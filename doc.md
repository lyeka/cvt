# AI主题总结与思维导图Chrome插件需求文档

## 1. 产品概述
- **产品名称**: AI主题总结与思维导图Chrome插件
- **版本**: 1.0
- **描述**: 本插件核心功能是为用户提供当前网页主题内容的AI自动总结，输出两种展示形式：文本总结归纳和思维导图。
- **目标用户**: 普通浏览网页用户、需要快速了解网页核心内容和结构的用户

## 2. 核心功能
- 自动提取当前网页主要内容（过滤广告和无关信息）
- 调用AI服务生成主题总结归纳
- 生成基于内容的思维导图展示
- 提供错误提示和重试机制，确保用户体验

## 3. 功能流程
1. **插件启动**: 用户点击Chrome工具栏中的插件图标后，弹出窗口启动。
2. **内容提取**: 插件自动提取当前页面的主要内容，剔除无关信息。
3. **调用AI服务**: 将提取的内容发送到AI服务接口，等待返回数据。
4. **数据展示**: AI服务返回两种格式的数据：
   - 文本总结归纳
   - 思维导图数据
5. **视图切换**: 用户通过Tab切换在“文本总结”和“思维导图”两个视图间切换。
6. **交互操作**: 在思维导图模式下，用户可点击节点查看详细信息、拖动、缩放等。
7. **错误处理**: 如遇网络或接口错误，插件显示友好的错误提示，并提供重试按钮。

## 4. 页面设计
### 4.1 弹出页面
- **总体布局**:
  - **顶部**: 显示插件标题和关闭按钮
  - **中间区域**: 采用Tab布局展示“文本总结”与“思维导图”两个视图
  - **底部**: 提供刷新或重试按钮
- **风格**:
  - 简洁、直观的设计风格
  - 现代响应式设计，适配不同屏幕尺寸
- **颜色与图标**:
  - 使用柔和的背景色
  - 清晰易懂的图标和按钮，确保高对比度和可读性

### 4.2 思维导图详情页（可选）
- **布局**:
  - 全屏或半屏展示
  - 支持放大、缩小、拖拽操作
- **功能**:
  - 用户可点击图中各节点获取更多详细信息
  - 节点之间显示连线，直观展示结构关系

## 5. 交互设计
- **插件启动**:
  - 点击插件图标后，弹出窗口采用缓慢淡入动画显示
  - 初始状态下显示加载动画或进度指示器，提示用户等待
- **内容加载**:
  - 在等待AI服务响应期间，显示加载提示
  - 若加载超时，则显示错误信息和重试按钮
- **Tab切换**:
  - 用户可点击Tab标签在“文本总结”和“思维导图”之间切换
  - 切换时提供平滑的过渡动画效果
- **思维导图交互**:
  - 用户可点击思维导图中的各节点，查看详细信息
  - 节点支持拖动、放大/缩小调整布局
- **错误处理**:
  - 当数据请求失败或解析错误时，提供清晰的错误提示
  - 提供重试按钮以便用户重新发起请求

## 6. 代码注意事项
### 6.1 前端开发
- **HTML & CSS**:
  - 使用HTML5语义化标签，采用CSS3实现样式
  - 使用Flexbox或Grid实现响应式布局
  - 所有HTML和CSS代码必须添加详细中文注释，确保代码易于理解和维护
- **JavaScript**:
  - 建议使用ES6+语法，必要时可选用轻量级工具库（避免引入大型框架）
  - 确保所有JS代码有详细中文注释，解释代码逻辑和功能

### 6.2 Chrome插件开发
- **Manifest文件**:
  - 采用Manifest V3规范，确保`manifest.json`文件正确配置
  - 明确声明插件所需的权限，如`activeTab`、`scripting`等
- **脚本通信**:
  - 后台脚本、内容脚本与弹出页面之间的通信需遵循Chrome插件的安全策略（CSP）
  - 避免跨站脚本攻击（XSS）等安全问题
- **调试**:
  - 使用Chrome开发者工具检查Console日志、网络请求及插件运行状态
  - 在开发者模式下反复调试确保各模块正常运行

### 6.3 与AI服务接口对接
- **数据格式**:
  - 确保请求和响应的数据格式一致，进行必要的数据校验
- **错误处理**:
  - 添加接口请求超时和错误处理机制，提示用户并允许重试
- **调用频率**:
  - 考虑API调用频率限制，避免滥用或超出接口限制

## 7. 其他说明
- **后续优化建议**:
  - 根据用户反馈持续改进UI和交互设计
  - 优化AI算法和数据提取策略
  - 考虑增加多语言支持及个性化设置
- **调试与发布**:
  - 在Chrome开发者模式下充分调试插件，确保所有功能正常后打包发布到Chrome Web Store
